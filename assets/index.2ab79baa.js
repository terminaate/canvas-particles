var M=Object.defineProperty;var C=(n,t,a)=>t in n?M(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a;var s=(n,t,a)=>(C(n,typeof t!="symbol"?t+"":t,a),a);const x=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}};x();class r{constructor({canvas:t,minRadius:a=1,maxRadius:e=4,particlesVelocity:i=2,particlesCount:o=200,mouseRadius:h=20,width:l=500,height:u=500,generateOnMouseDown:w=!1,drawMouse:y=!1,animate:v=!0}={}){s(this,"minRadius");s(this,"maxRadius");s(this,"particlesVelocity");s(this,"mouseRadius");s(this,"ctx");s(this,"canvas");s(this,"particles",[]);s(this,"width");s(this,"height");s(this,"mouseX",0);s(this,"mouseY",0);s(this,"isMouseDown",!1);s(this,"generateOnMouseDown");s(this,"particlesCount");s(this,"drawMouse");s(this,"animationId",0);s(this,"animate");t||(t=document.createElement("canvas"),document.body.appendChild(t)),this.canvas=t,this.width=r.getWidth(l),this.height=r.getHeight(u),this.canvas.height=this.height,this.canvas.width=this.width,onresize=()=>{this.canvas.width=r.getWidth(l),this.canvas.height=r.getHeight(u)},addEventListener("mousemove",d=>{this.mouseX=d.clientX,this.mouseY=d.clientY}),addEventListener("mousedown",()=>{this.isMouseDown=!0}),addEventListener("mouseup",()=>{this.isMouseDown=!1}),this.ctx=this.canvas.getContext("2d"),this.minRadius=a,this.maxRadius=e,this.particlesVelocity=i,this.particlesCount=o,this.mouseRadius=h,this.generateOnMouseDown=w,this.drawMouse=y,this.animate=v,this.main=this.main.bind(this),this.loop=this.loop.bind(this),this.main()}setCanvasWidth(t){this.canvas.width=r.getWidth(t)}setCanvasHeight(t){this.canvas.height=r.getHeight(t)}static getWidth(t){return typeof t=="string"?t.endsWith("%")?parseInt(t)<100?innerWidth/100*parseInt(t):innerWidth:parseInt(t):t}static getHeight(t){return typeof t=="string"?t.endsWith("%")?parseInt(t)<100?innerHeight/100*parseInt(t):innerHeight:parseInt(t):t}drawCircle(t,a,e,i="#000",o=!0,h="#222",l=!1){this.ctx.beginPath(),this.ctx.arc(t,a,e,0,2*Math.PI,!1),this.ctx.fillStyle=i,o&&this.ctx.fill(),this.ctx.strokeStyle=h,l&&this.ctx.stroke()}drawBackground(t="#000"){this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}main(){if(this.particles=[],!this.generateOnMouseDown)for(let t=0;t<this.particlesCount;t++)this.generateParticle(Math.random()*this.canvas.width,Math.random()*this.canvas.height);this.loop()}loop(){this.drawBackground(),this.generateOnMouseDown&&this.particles.length<this.particlesCount&&this.isMouseDown&&this.mouseX>0&&this.mouseY>0&&this.generateParticle(this.mouseX,this.mouseY),this.particles.length>this.particlesCount&&(console.log("YES"),this.particles=this.particles.slice(0,this.particlesCount-1));for(let a in this.particles){let e=this.particles[a];this.drawCircle(e.x,e.y,e.radius,e.color),e.x<0?e.x=this.canvas.width:e.x+=e.velocityX,e.y<0?e.y=this.canvas.height-e.radius/2:e.y-=e.velocityY}let t=.1;this.isMouseDown&&(t+=.1),this.drawMouse&&this.drawCircle(this.mouseX,this.mouseY,this.mouseRadius,`rgba(255, 255, 255, ${t})`),this.animate&&(this.animationId=requestAnimationFrame(this.loop))}generateParticle(t=0,a=0){const e=Math.floor(Math.random()*(this.maxRadius-this.minRadius+1))+this.minRadius;this.particles.push({x:t,y:a,radius:e,color:`rgb(255, 255, 255, ${Math.random()*1})`,velocityX:Math.random()*(this.particlesVelocity*2)-this.particlesVelocity,velocityY:Math.random()*(this.particlesVelocity*2)+this.particlesVelocity})}stop(){cancelAnimationFrame(this.animationId),this.animationId=0}start(){this.animationId<=0&&(this.animationId=requestAnimationFrame(this.loop))}}const c={width:"100%",height:"100%",drawMouse:!0,generateOnMouseDown:!1,particlesCount:200};window.particles=new r(c);const p=document.querySelector("#width"),m=document.querySelector("#height"),f=document.querySelector("#drawMouse"),g=document.querySelector("#generateOnMouseDown");p.value=c.width;m.value=c.height;f.checked=c.drawMouse;g.checked=c.generateOnMouseDown;f.addEventListener("input",n=>{particles.drawMouse=n.target.checked});g.addEventListener("input",n=>{particles.generateOnMouseDown=n.target.checked,n.target.checked?particles.particlesCount=1/0:particles.particlesCount=c.particlesCount});p.addEventListener("input",n=>{particles.setCanvasWidth(n.target.value)});m.addEventListener("input",n=>{particles.setCanvasHeight(n.target.value)});
